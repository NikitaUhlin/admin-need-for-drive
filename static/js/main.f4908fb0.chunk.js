(this["webpackJsonpadmin-need-for-drive"]=this["webpackJsonpadmin-need-for-drive"]||[]).push([[0],{234:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(24),i=n.n(r),o=n(136),s=n(10),l=n(137),u=n(238),d=n(239),b=n(240),j=n(241),O=n(132),h=n(49),p=n.p+"static/media/LogoIcon.42a15795.svg",_=function(e){return e.loading},f=function(e){return e.auth},m=function(e){return e.error},g=n(125),x=n(126),v=n(127),I=n.n(v),y=new(function(){function e(){Object(g.a)(this,e),this.api=I.a.create({baseURL:"https://api-factory.simbirsoft1.com/api/",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}})}return Object(x.a)(e,[{key:"get",value:function(e){return this.api.get(e)}},{key:"post",value:function(e,t,n){return this.api.post(e,t,{headers:n})}},{key:"put",value:function(e,t){return this.api.put(e,t)}},{key:"auth",value:function(e){var t=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*a));return t}(8),n=btoa("".concat(t,":4cbcea96de"));return this.post("auth/login",e,{Authorization:"Basic ".concat(n)})}}]),e}()),T=function(e){return{type:"AUTHORIZATION_SUCCESS",payload:e}},A=function(){return{type:"AUTHORIZATION_STARTED"}},E=function(e){return{type:"AUTHORIZATION_FAILURE",payload:e}},N=n(44),U=n.n(N),k=n(17),R=function(){var e=Object(h.c)(_),t=Object(h.c)(f),n=Object(h.c)(m),c=Object(h.b)();Object(a.useEffect)((function(){t&&l.b.success("\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!")}),[t]);return Object(k.jsxs)("div",{className:U.a.container,children:[Object(k.jsxs)("div",{className:U.a.titleContainer,children:[Object(k.jsx)("img",{src:p,alt:""}),Object(k.jsx)("div",{className:U.a.title,children:"Need for drive"})]}),Object(k.jsxs)(u.a,{style:{width:376},children:[Object(k.jsx)("div",{className:U.a.subtitle,children:"\u0412\u0445\u043e\u0434"}),Object(k.jsxs)(d.a,{name:"normal_login",layout:"vertical",requiredMark:!1,onFinish:function(e){return c((t=e,function(e){e(A()),y.auth(t).then((function(t){e(T(t.data))})).catch((function(t){401===t.response.status&&e(E(t.response.data))}))}));var t},children:[Object(k.jsx)(d.a.Item,{name:"username",label:"\u041f\u043e\u0447\u0442\u0430",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443!"}],children:Object(k.jsx)(b.a,{type:"text",placeholder:"\u041f\u043e\u0447\u0442\u0430"})}),Object(k.jsx)(d.a.Item,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(k.jsx)(b.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),n&&Object(k.jsx)(j.a,{message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!",type:"error"}),Object(k.jsxs)("div",{className:U.a.buttonContainer,children:[Object(k.jsx)(d.a.Item,{children:Object(k.jsx)("a",{className:U.a.link,href:"#",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"})}),Object(k.jsx)(d.a.Item,{children:Object(k.jsx)(O.a,{loading:e,type:"primary",htmlType:"submit",className:U.a.button,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})]})]})},S=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)(s.c,{children:Object(k.jsx)(s.a,{path:"/",element:Object(k.jsx)(R,{})})})})},C=n(63),w=n(101),D=n(39),H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(n=Object(D.a)({path:"/"},n)).expires instanceof Date&&(n.expires=n.expires.toUTCString());var a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t));for(var c in n){a+="; ".concat(c);var r=n[c];!0!==r&&(a+="=".concat(r))}document.cookie=a},L={loading:!1,error:null,auth:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHORIZATION_SUCCESS":return H("token",t.payload.access_token),H("refreshToken",t.payload.refresh_token),Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:null,auth:!0});case"AUTHORIZATION_STARTED":return Object(D.a)(Object(D.a)({},e),{},{loading:!0,auth:!1});case"AUTHORIZATION_FAILURE":return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:t.payload,auth:!1});default:return e}},X=Object(C.b)(Object(C.a)(w.a));window.__REDUX_DEVTOOLS_EXTENSION__&&(X=Object(C.b)(Object(C.a)(w.a),window.__REDUX_DEVTOOLS_EXTENSION__()));var B=Object(C.c)(Z,L,X);n(234);i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(h.a,{store:B,children:Object(k.jsx)(S,{})})}),document.getElementById("root"))},44:function(e,t,n){e.exports={container:"login_container__2GmxY",titleContainer:"login_titleContainer__1gOje",title:"login_title__1WToE",link:"login_link__3bEBp",buttonContainer:"login_buttonContainer__2lljS",button:"login_button__EooHt",subtitle:"login_subtitle__l86mB"}}},[[235,1,2]]]);
//# sourceMappingURL=main.f4908fb0.chunk.js.map